# Railway Deployment Configuration
# This file configures the deployment of Astrologer API on Railway

# Service configuration
[build]
builder = "heroku/buildpacks:20"

[deploy]
startCommand = "uvicorn app.main:app --host=0.0.0.0 --port=$PORT"

[env]
# Environment variables required for the application
GEONAMES_USERNAME = { required = true, description = "Geonames API username for geographical data" }
ENV_TYPE = { required = false, default = "production", description = "Environment type: production, dev, test" }
LOG_LEVEL = { required = false, default = "20", description = "Logging level (10=DEBUG, 20=INFO, 30=WARNING, 40=ERROR)" }

# Health check for Railway
[healthcheck]
path = "/api/v4/health"
protocol = "http"
port = 8000